<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#4FD1C5" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Dumble's Door">
    <link rel="apple-touch-icon" href="/icon-192.png">

    <title>Dumble's Door - Indian Pet Care</title>
    
    <!-- SEO & Social Sharing Meta Tags -->
    <meta name="description" content="An all-in-one Indian pet care app providing AI-powered health checks, vet booking, product recommendations, and a complete digital log for your pet's journey." />
    <meta name="keywords" content="pet care, india, vet booking, pet health, ai health check, dog, cat, pet products, adoption" />
    <meta property="og:title" content="Dumble's Door - Indian Pet Care" />
    <meta property="og:description" content="The all-in-one app for your pet's health and happiness in India." />
    <meta property="og:image" content="/icon-512.png" />
    <meta property="og:url" content="https://dumbles-door-app.vercel.app/" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;800&family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
      :root {
        /* --- BRAND NEW 2025 COLOR PALETTE (DAY/SUNRISE THEME) --- */
        --color-bg-gradient-start: #4FD1C5; /* Soft Sky Teal */
        --color-bg-gradient-end: #FF8A65; /* Gentle Coral */
        --color-text-primary: #1A202C; /* Near Black */
        --color-text-secondary: #4A5568; /* Slate Gray */
        --color-text-primary-inverted: #E2E8F0; /* Soft White (for dark elements) */
        --color-text-secondary-inverted: #A0AEC0; /* Muted Gray (for dark elements) */
        --color-accent: #F687B3; /* Vibrant Coral-Pink */
        --nav-bg: rgba(255, 255, 255, 0.7);
        --card-bg: rgba(255, 255, 255, 0.1);
        --card-border: rgba(255, 255, 255, 0.2);
        --shadow-color-1: rgba(0,0,0,0.1);
        --shadow-color-2: rgba(8, 145, 178, 0.2);
        --glow-color: var(--color-text-primary-inverted);

        /* --- CORE STYLES --- */
        --orb-color-1: var(--color-bg-gradient-start);
        --orb-color-2: var(--color-bg-gradient-end);
      }
      
      body.dark-theme {
        /* --- TWILIGHT THEME (NIGHT) --- */
        --color-bg-gradient-start: #2D3748; /* Midnight Blue */
        --color-bg-gradient-end: #4C51BF; /* Rich Indigo */
        --color-text-primary: #E2E8F0; /* Soft White */
        --color-text-secondary: #A0AEC0; /* Muted Gray */
        --color-text-primary-inverted: #1A202C;
        --color-text-secondary-inverted: #4A5568;
        --nav-bg: rgba(26, 32, 44, 0.7);
        --card-bg: rgba(255, 255, 255, 0.08);
        --card-border: rgba(255, 255, 255, 0.15);
        --shadow-color-1: rgba(0,0,0,0.2);
        --shadow-color-2: rgba(76, 81, 191, 0.3);
      }

      /* --- NEW CAT THEME (MOONLIGHT) --- */
      body.cat-theme {
        --color-bg-gradient-start: #A78BFA; /* Soft Lavender */
        --color-bg-gradient-end: #E9D5FF; /* Pale Lilac */
        --color-text-primary: #2D3748;
        --color-text-secondary: #4A5568;
        --color-accent: #F687B3; /* Coral-Pink remains for contrast */
      }
      body.cat-theme.dark-theme {
          --color-bg-gradient-start: #2D3748; /* Midnight Blue */
          --color-bg-gradient-end: #5A67D8; /* Indigo */
          --color-text-primary: #E2E8F0;
          --color-text-secondary: #A0AEC0;
      }

      body {
        font-family: 'DM Sans', sans-serif;
        background-color: var(--color-bg-gradient-start); /* Fallback */
      }
      .font-poppins {
        font-family: 'Poppins', sans-serif;
      }
      .animated-gradient {
        background: linear-gradient(170deg, var(--color-bg-gradient-start), var(--color-bg-gradient-end));
        background-size: 100% 200%;
        animation: gradient-animation 20s ease infinite;
      }
      @keyframes gradient-animation {
        0% { background-position: 50% 0%; }
        50% { background-position: 50% 100%; }
        100% { background-position: 50% 0%; }
      }

      /* --- CORE ANIMATIONS --- */
      @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
      @keyframes fade-in-up {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }
      @keyframes breathing-glow {
        0%, 100% { box-shadow: 0 0 15px 0px rgba(255, 255, 255, 0.2); }
        50% { box-shadow: 0 0 30px 8px rgba(255, 255, 255, 0.4); }
      }
      .animate-breathing-glow {
        animation: breathing-glow 4s ease-in-out infinite;
      }
      
       @keyframes slide-in-fade-up {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0px); }
      }
      .animate-slide-in {
        animation: slide-in-fade-up 0.8s ease-out 0.5s forwards;
        opacity: 0;
      }
      
      /* --- NEW 3D & DEPTH EFFECTS --- */
      .parallax-bg {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        overflow: hidden; z-index: -1;
      }
      .parallax-layer {
        position: absolute; top: -5%; left: -5%; width: 110%; height: 110%;
        background-position: center; background-repeat: no-repeat; background-size: cover;
        transition: background-image 1s ease-in-out;
      }
      .parallax-layer.layer-1 {
        background-image: radial-gradient(circle at 10% 20%, var(--orb-color-1, #0d9488) 0%, transparent 40%),
                          radial-gradient(circle at 80% 90%, var(--orb-color-2, #0891b2) 0%, transparent 40%);
        opacity: 0.2;
        animation: move-around 40s linear infinite alternate;
      }
      .parallax-layer.layer-2 {
        background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><circle cx="50" cy="50" r="1" fill="rgba(255,255,255,0.05)"/></svg>');
        background-size: 50px 50px;
        animation: move-around 60s linear infinite alternate-reverse;
      }
      @keyframes move-around {
        from { transform: translate(-2%, -2%); } to { transform: translate(2%, 2%); }
      }
      .floating-orbs {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        pointer-events: none; z-index: 0;
      }
      .orb {
        position: absolute; border-radius: 50%;
        filter: blur(80px);
        opacity: 0.5; will-change: transform; transition: background 1s ease-in-out;
      }
      .orb-1 {
        width: 400px; height: 400px; background: var(--orb-color-1);
        animation: float-orb-1 25s ease-in-out infinite alternate;
      }
      .orb-2 {
        width: 300px; height: 300px; background: var(--orb-color-2);
        animation: float-orb-2 30s ease-in-out infinite alternate;
      }
      @keyframes float-orb-1 {
        from { transform: translate(10vw, 20vh) scale(1); }
        to { transform: translate(60vw, 80vh) scale(1.2); }
      }
      @keyframes float-orb-2 {
        from { transform: translate(80vw, 10vh) scale(1.2); }
        to { transform: translate(20vw, 60vh) scale(1); }
      }

      /* --- UI Component Styles --- */
      .shadow-3d {
          box-shadow: 0 2px 5px var(--shadow-color-1), 0 10px 20px var(--shadow-color-1), 0px 30px 60px 1px var(--shadow-color-2);
          transition: box-shadow 0.3s ease-out, transform 0.3s ease-out;
      }
       /* Thumb-friendly active states for visual feedback */
      .interactive-scale:active {
        transform: scale(0.97);
        filter: brightness(0.95);
        transition: transform 0.1s ease, filter 0.1s ease;
      }

      /* --- Service Carousel --- */
      .service-carousel {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch; /* For momentum scrolling on iOS */
        scrollbar-width: none; /* Hide scrollbar for Firefox */
      }
      .service-carousel::-webkit-scrollbar {
        display: none; /* Hide scrollbar for Chrome, Safari, and Opera */
      }
      .service-carousel-slide {
        flex: 0 0 calc(50% - 0.5rem); /* Two cards with a gap */
        scroll-snap-align: start;
        scroll-snap-stop: always;
      }
      .carousel-dots {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-top: 1rem;
      }
      .carousel-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background-color: var(--card-border);
        transition: background-color 0.3s ease, transform 0.3s ease;
      }
      .carousel-dot.active {
        background-color: var(--color-text-primary);
        transform: scale(1.2);
      }
      
      /* --- Pull To Refresh --- */
      .pull-to-refresh-indicator {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 20;
        color: var(--color-text-primary);
        transition: transform 0.3s ease;
      }
      .paw-loader {
        transform-origin: center;
      }
      .paw-loader.refreshing {
        animation: spin 1s linear infinite;
      }
      .paw-path {
        stroke-dasharray: 250;
        stroke-dashoffset: 250;
        transition: stroke-dashoffset 0.5s ease;
      }
      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }
      
      /* --- DYNAMIC HOME SCREEN --- */
      @keyframes character-in {
        from { opacity: 0; transform: translateY(10px) skewX(-20deg); }
        to { opacity: 1; transform: translateY(0) skewX(0); }
      }
      .greeting-char {
        display: inline-block;
        opacity: 0;
        animation: character-in 0.5s ease-out forwards;
      }

      .wellness-circle-bg {
        fill: none;
        stroke: var(--card-border);
        stroke-width: 8;
      }
      .wellness-circle-progress {
        fill: none;
        stroke: var(--color-accent);
        stroke-width: 8;
        stroke-linecap: round;
        transform: rotate(-90deg);
        transform-origin: 50% 50%;
        transition: stroke-dashoffset 0.8s ease-out;
      }

      @keyframes tip-fade-in {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .animate-tip-in {
        animation: tip-fade-in 0.6s ease-out forwards;
      }

      .confetti-container {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        pointer-events: none;
        z-index: 9999;
      }
      .confetti {
        position: absolute;
        opacity: 0;
        animation: confetti-fall 4s linear forwards;
      }
      @keyframes confetti-fall {
        0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
        100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
      }
      
      /* --- AUTH & LOGOUT TRANSITIONS --- */
      @keyframes fade-out-down {
        from { 
          opacity: 1; 
          transform: translateY(0); 
        }
        to { 
          opacity: 0; 
          transform: translateY(20px); 
          filter: blur(4px);
        }
      }

      @keyframes auth-fade-in {
        from { 
          opacity: 0; 
        }
        to { 
          opacity: 1; 
        }
      }

      .app-container-exit-active {
        animation: fade-out-down 0.4s ease-in forwards;
      }

      .auth-screen-enter-active {
        animation: auth-fade-in 0.6s ease-out forwards;
      }

      /* --- BOTTOM SHEET MODAL --- */
      @keyframes slide-in-up {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
      }
      @keyframes slide-out-down {
        from { transform: translateY(0); }
        to { transform: translateY(100%); }
      }
      .bottom-sheet-content {
        animation: slide-in-up 0.3s ease-out forwards;
      }
      .bottom-sheet-content.exiting {
        animation: slide-out-down 0.3s ease-in forwards;
      }

      /* --- SWIPE TO CONFIRM --- */
      .swipe-track {
        -webkit-user-select: none; /* Safari */
        -ms-user-select: none; /* IE 10+ */
        user-select: none; /* Standard */
        touch-action: pan-y; /* Allow vertical scroll */
      }
      .swipe-thumb {
        cursor: grab;
      }
      .swipe-thumb:active {
        cursor: grabbing;
      }
      .swipe-label-text {
        animation: pulse-text 2s infinite ease-in-out;
      }
      @keyframes pulse-text {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
      }

      /* --- WELLNESS REPORT --- */
      .transition-max-height {
        transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
        overflow: hidden;
      }
       @keyframes wellness-progress-draw {
        from { stroke-dashoffset: var(--circumference); }
        to { stroke-dashoffset: var(--progress-offset); }
      }
      .animate-wellness-progress {
        animation: wellness-progress-draw 1s 0.3s ease-out forwards;
      }
      .report-card-enter {
        opacity: 0;
        transform: translateY(10px);
        animation: fade-in-up 0.5s ease-out forwards;
      }

      .score-trend-up { color: #16a34a; } /* green-600 */
      .score-trend-down { color: #dc2626; } /* red-600 */
      .score-trend-same { color: #6b7280; } /* gray-500 */

      /* --- PRINT STYLES (DEPRECATED FOR VISUAL REPORT) --- */
      @media print {
        body * { display: none !important; }
      }

      /* --- VISUAL WELLNESS REPORT STYLES --- */
      .health-score-gauge-bg {
        fill: none;
        stroke: rgba(0,0,0,0.1);
      }
      .health-score-gauge-progress {
        fill: none;
        stroke-linecap: round;
        transform: rotate(-90deg);
        transform-origin: 50% 50%;
        transition: stroke-dashoffset 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        animation: health-gauge-draw 1.2s 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      }
      @keyframes health-gauge-draw {
          from { stroke-dashoffset: var(--circumference); }
          to { stroke-dashoffset: var(--progress-offset); }
      }

      .progress-ring-bg {
          fill: none;
          stroke: #e5e7eb; /* gray-200 */
      }
      .progress-ring-progress {
          fill: none;
          stroke-linecap: round;
          transform: rotate(-90deg);
          transform-origin: 50% 50%;
          transition: stroke-dashoffset 0.8s ease-out;
      }
      
      .care-timeline {
          position: relative;
          padding-left: 1.25rem; /* pl-5 */
      }
      .care-timeline::before {
          content: '';
          position: absolute;
          top: 0;
          left: 14px; /* center of the icon */
          bottom: 0;
          width: 2px;
          background-color: #e5e7eb; /* gray-200 */
      }
      .timeline-item {
          position: relative;
          padding-bottom: 1.5rem; /* pb-6 */
      }
      .timeline-item:last-child {
          padding-bottom: 0;
      }
      .timeline-icon-container {
          position: absolute;
          left: 0;
          top: 0;
          transform: translateX(-50%);
          display: flex;
          align-items: center;
          justify-content: center;
          width: 30px;
          height: 30px;
          border-radius: 9999px;
          background-color: white;
          border: 2px solid #e5e7eb;
      }

      @keyframes share-toast-in-out {
          0% { transform: translateY(100%); opacity: 0; }
          15% { transform: translateY(0); opacity: 1; }
          85% { transform: translateY(0); opacity: 1; }
          100% { transform: translateY(100%); opacity: 0; }
      }
      .share-toast {
          animation: share-toast-in-out 3s ease-in-out forwards;
      }

      /* --- NEW ACTIONABLE CARE PLAN STYLES --- */
      .difficulty-badge-easy { background-color: #dcfce7; color: #16a34a; } /* green-100/green-600 */
      .difficulty-badge-moderate { background-color: #fef3c7; color: #d97706; } /* yellow-100/yellow-600 */
      .difficulty-badge-professional { background-color: #fee2e2; color: #dc2626; } /* red-100/red-600 */

      .product-card, .service-card {
        background-color: #f9fafb; /* gray-50 */
        padding: 0.75rem; /* p-3 */
        border-radius: 0.5rem; /* rounded-lg */
      }
      .service-card-vet { border-left: 4px solid #3b82f6; } /* blue-500 */
      .service-card-groomer { border-left: 4px solid #8b5cf6; } /* violet-500 */
      .service-card-store { border-left: 4px solid #10b981; } /* emerald-500 */
    </style>
  <script type="importmap">
{
  "imports": {
    "react-dom/": "https://esm.sh/react-dom@^19.1.1/",
    "react/": "https://esm.sh/react@^19.1.1/",
    "react": "https://esm.sh/react@^19.1.1",
    "@google/genai": "https://esm.sh/@google/genai@^1.15.0",
    "marked": "https://esm.sh/marked@^16.2.0",
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@^2.45.2"
  }
}
</script>
</head>
  <body class="bg-white antialiased" style="scroll-behavior: smooth;">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').then(registration => {
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
          }, err => {
            console.log('ServiceWorker registration failed: ', err);
          });
        });
      }
    </script>
  </body>
</html>